<div >
    <h2>Customers</h2>
    
    <div id="row-details-tpl" ng-non-bindable style="display: none">
        <h4>SubItems {{data.CompanyName}}</h4>
        <div ng-if="ordersLoaded !== true">
            <div><span>Loading...</span></div>
        </div>
        <div ng-if="ordersLoaded === true">
            <table class="table table-striped table-bordered" dt-table dt-data="data.Orders" dt-options="customerOrdersGridOpts">
                <thead>
                    <tr>
                        <th dt-data="OrderID">Id</th>
                        <th dt-expression="data.OrderDate | date:'shortDate'">Order Date</th>
                        <th dt-data="ShipAddress">Ship Address</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-md-8">
            <table class="table table-bordered" dt-table="dtTable" dt-options="customerGridOpts" dt-row-detail-tpl="#row-details-tpl" dt-selectable>
                <thead>
                    <tr>
                        <th dt-row-detail-icon></th>
                        <th dt-data="CompanyName">Company Name</th>
                        <th dt-data="ContactName">Contact Name</th>
                        <th dt-data="Country">Country</th>
                        <th dt-data="entityAspect.entityState.name">Entity state</th>
                    </tr>
                </thead>
            </table>
        </div>
        <div class="col-md-4">
            <form class="form-horizontal">
                <!-- We do field-level validation based on the validation rules in the metadata,
                and twitter bootstrap styles to show invalid fields.  See the breezeinput directive in directives.js -->
                <breezeinput label="Company Name" ng-model="dtTable.selectedRow.data.CompanyName"></breezeinput>
                <breezeinput label="Contact Name" ng-model="dtTable.selectedRow.data.ContactName"></breezeinput>
                <breezeinput label="Contact Title" ng-model="dtTable.selectedRow.data.ContactTitle"></breezeinput>
                <breezeinput label="Address" ng-model="dtTable.selectedRow.data.Address"></breezeinput>
                <breezeinput label="City" ng-model="dtTable.selectedRow.data.City"></breezeinput>
                <breezeinput label="Region" ng-model="dtTable.selectedRow.data.Region"></breezeinput>
                <breezeinput label="Postal Code" ng-model="dtTable.selectedRow.data.PostalCode"></breezeinput>
                <breezeinput label="Country" ng-model="dtTable.selectedRow.data.Country"></breezeinput>
                <breezeinput label="Phone" ng-model="dtTable.selectedRow.data.Phone"></breezeinput>
                <breezeinput label="Fax" ng-model="dtTable.selectedRow.data.Fax"></breezeinput>
                <div style="text-align: center">
                    <button class="btn" ng-click="reset(dtTable.selectedRow.data)">Reset Customer</button>
                    <button class="btn" ng-click="update(dtTable.selectedRow.data)">Save Customer</button>
                </div>
            </form>
        </div>
    </div>
</div>

