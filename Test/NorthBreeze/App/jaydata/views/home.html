<div>
    <h3>JayData intergation</h3>
    <div class="">
        <p>
            This module use the Northwind database that comes with Microsoft SQL Server.  
        </p>
        <p>
            This module use <a href="http://jaydata.org/">JayData</a>, <a href="http://angularjs.org/">Angular</a> , 
            and <a href="http://getbootstrap.com/2.3.2/index.html">Twitter Bootstrap</a>  on the client, 
            and ASP.NET <a href="http://www.asp.net/web-api">Web API OData</a> and <a href="https://entityframework.codeplex.com/">EntityFramework</a> on the server.
        </p>
    </div>

    <h3>Changed Entities</h3>
    <div>
        <div>
            <p>
                The table below shows all the entities in the EntityContext that have changes.  
                Entities added, deleted, or modified will appear in this table.  The "Save" button on this page will cause all the entities
                to be saved to the server. The "Reset" button will cause all the changes to be discarded.
            </p>
        </div>
        <table class="table table-striped table-bordered table-condensed">
            <thead>
                <th>Entity Type</th>
                <th>Entity Key</th>
                <th>Entity State</th>
            </thead>
            <tbody ng-repeat="e in vm.getChangedEntities()">
                <tr>
                    <td rowspan="2">{{e.getType().name}}</td>
                    <td>{{vm.getEntityKey(e)}}</td>
                    <td>({{vm.getStateName(e.entityState)}}</td>
                </tr>
                <tr>
                    <td colspan="2">
                        <table class="table table-small">
                            <thead>
                                <th>Property Name</th>
                                <th>Original Value</th>
                                <th>Current Value</th>
                                <th>Validation Errors</th>
                            </thead>
                            <tr ng-repeat="(k,v) in e.initData">
                                <td>{{k}}</td>
                                <td>{{v}}</td>
                                <td>{{e[k]}}</td>
                                <td><span class="text-error" ng-repeat="r in vm.getPropertyErrors(e, k)">{{r.Message}}</span></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </tbody>
        </table>
        <button class="btn" ng-click="vm.reset()">Reset All</button>
        <button class="btn" ng-click="vm.update()">Save All</button>
    </div>

</div>

